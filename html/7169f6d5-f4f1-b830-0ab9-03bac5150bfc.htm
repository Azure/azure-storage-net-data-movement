<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>PreserveSMBPermissions Enumeration</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="PreserveSMBPermissions enumeration" /><meta name="System.Keywords" content="Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions enumeration" /><meta name="System.Keywords" content="None enumeration member" /><meta name="System.Keywords" content="Owner enumeration member" /><meta name="System.Keywords" content="Group enumeration member" /><meta name="System.Keywords" content="DACL enumeration member" /><meta name="System.Keywords" content="SACL enumeration member" /><meta name="Microsoft.Help.F1" content="Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions" /><meta name="Microsoft.Help.F1" content="Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.None" /><meta name="Microsoft.Help.F1" content="Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.Owner" /><meta name="Microsoft.Help.F1" content="Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.Group" /><meta name="Microsoft.Help.F1" content="Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.DACL" /><meta name="Microsoft.Help.F1" content="Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.SACL" /><meta name="Microsoft.Help.Id" content="T:Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions" /><meta name="Description" content="Enum to indicate what permission would be perserved DataMovement Library." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Microsoft.Azure.Storage.DataMovement" /><meta name="file" content="7169f6d5-f4f1-b830-0ab9-03bac5150bfc" /><meta name="guid" content="7169f6d5-f4f1-b830-0ab9-03bac5150bfc" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Microsoft Azure Storage DataMovement Library v2.0.1<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="470222ea-2ca0-cef6-b4c7-34a0b0e6e3a2.htm" title="Microsoft Azure Storage DataMovement Library v2.0.1" tocid="roottoc">Microsoft Azure Storage DataMovement Library v2.0.1</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="470222ea-2ca0-cef6-b4c7-34a0b0e6e3a2.htm" title="Microsoft.Azure.Storage.DataMovement" tocid="470222ea-2ca0-cef6-b4c7-34a0b0e6e3a2">Microsoft.Azure.Storage.DataMovement</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="78ef46df-2ad1-49df-b83d-ebc9f1fdccc3.htm" title="Constants Class" tocid="78ef46df-2ad1-49df-b83d-ebc9f1fdccc3">Constants Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="6b1d0b7e-1dce-3a66-a81c-09f473d28914.htm" title="CopyDirectoryOptions Class" tocid="6b1d0b7e-1dce-3a66-a81c-09f473d28914">CopyDirectoryOptions Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="58081785-1aad-637b-4400-75a2df34f394.htm" title="CopyMethod Enumeration" tocid="58081785-1aad-637b-4400-75a2df34f394">CopyMethod Enumeration</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="a046a94f-bbcd-548f-32e8-2f56a81a8795.htm" title="CopyOptions Class" tocid="a046a94f-bbcd-548f-32e8-2f56a81a8795">CopyOptions Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="6da25d86-7e78-dd90-e6b4-dec180eff814.htm" title="DirectoryOptions Class" tocid="6da25d86-7e78-dd90-e6b4-dec180eff814">DirectoryOptions Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="5254e502-c4a7-c3e6-c5e9-5fa269974911.htm" title="DirectoryTransferContext Class" tocid="5254e502-c4a7-c3e6-c5e9-5fa269974911">DirectoryTransferContext Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="0dfb59d9-a97c-bb49-63bd-f67b37439ea6.htm" title="DownloadDirectoryOptions Class" tocid="0dfb59d9-a97c-bb49-63bd-f67b37439ea6">DownloadDirectoryOptions Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="f0d9d777-868d-8554-5d9e-1cc93466620a.htm" title="DownloadOptions Class" tocid="f0d9d777-868d-8554-5d9e-1cc93466620a">DownloadOptions Class</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="7169f6d5-f4f1-b830-0ab9-03bac5150bfc.htm" title="PreserveSMBPermissions Enumeration" tocid="7169f6d5-f4f1-b830-0ab9-03bac5150bfc">PreserveSMBPermissions Enumeration</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="9782b0f3-d83f-f396-fe0f-4273213d4d6c.htm" title="SetAttributesCallbackAsync Delegate" tocid="9782b0f3-d83f-f396-fe0f-4273213d4d6c">SetAttributesCallbackAsync Delegate</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="71b7afa9-1d3b-cfd8-ae6b-1e91cdfc7440.htm" title="ShouldOverwriteCallbackAsync Delegate" tocid="71b7afa9-1d3b-cfd8-ae6b-1e91cdfc7440">ShouldOverwriteCallbackAsync Delegate</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="235d2192-956f-9ee8-608e-ad3eea72e14b.htm" title="ShouldTransferCallbackAsync Delegate" tocid="235d2192-956f-9ee8-608e-ad3eea72e14b">ShouldTransferCallbackAsync Delegate</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="4bccd3a6-0319-29d8-99ae-c5b3476c1e63.htm" title="SingleTransferContext Class" tocid="4bccd3a6-0319-29d8-99ae-c5b3476c1e63">SingleTransferContext Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="0e4b8007-317b-21fc-a32a-60b88c91af8b.htm" title="TestHookCallbacks Class" tocid="0e4b8007-317b-21fc-a32a-60b88c91af8b">TestHookCallbacks Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="1ed84635-5329-21ff-d1de-ba7a1f65db66.htm" title="TransferCheckpoint Class" tocid="1ed84635-5329-21ff-d1de-ba7a1f65db66">TransferCheckpoint Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="f50024a8-ebb4-fe7c-c0e9-94dc319cbd77.htm" title="TransferConfigurations Class" tocid="f50024a8-ebb4-fe7c-c0e9-94dc319cbd77">TransferConfigurations Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="4d5ba3cb-4f9b-1968-691f-1f2ab44ebd7e.htm" title="TransferContext Class" tocid="4d5ba3cb-4f9b-1968-691f-1f2ab44ebd7e">TransferContext Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="3bbc9946-4798-8bc4-3139-aa703cda9544.htm" title="TransferErrorCode Enumeration" tocid="3bbc9946-4798-8bc4-3139-aa703cda9544">TransferErrorCode Enumeration</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="97c912c9-78ff-872b-c2d7-c1e5b7cf83b7.htm" title="TransferEventArgs Class" tocid="97c912c9-78ff-872b-c2d7-c1e5b7cf83b7">TransferEventArgs Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="7e493a52-2a9d-f4e5-88bc-46252cf27837.htm" title="TransferException Class" tocid="7e493a52-2a9d-f4e5-88bc-46252cf27837">TransferException Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="315b3dbe-a647-c0bf-b0f6-21494710db2b.htm" title="TransferManager Class" tocid="315b3dbe-a647-c0bf-b0f6-21494710db2b">TransferManager Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="884df60e-90c5-da40-1842-45de44e9dccb.htm" title="TransferSkippedException Class" tocid="884df60e-90c5-da40-1842-45de44e9dccb">TransferSkippedException Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="67a87307-d771-df91-8812-14535199109d.htm" title="TransferStatus Class" tocid="67a87307-d771-df91-8812-14535199109d">TransferStatus Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="ef995a7a-4f88-75b7-710e-51ec13a73510.htm" title="UploadDirectoryOptions Class" tocid="ef995a7a-4f88-75b7-710e-51ec13a73510">UploadDirectoryOptions Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="01fc4062-584a-e86e-28f7-85ae7e320516.htm" title="UploadOptions Class" tocid="01fc4062-584a-e86e-28f7-85ae7e320516">UploadOptions Class</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>PreserveSMBPermissions Enumeration</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Enum to indicate what permission would be perserved DataMovement Library.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="470222ea-2ca0-cef6-b4c7-34a0b0e6e3a2.htm">Microsoft.Azure.Storage.DataMovement</a><br />
    <strong>Assembly:</strong>
   Microsoft.Azure.Storage.DataMovement (in Microsoft.Azure.Storage.DataMovement.dll) Version: 2.0.1.0 (2.0.1.0)<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EDCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cs','1','4');return false;">C#</a></div><div id="ID0EDCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','vb','2','4');return false;">VB</a></div><div id="ID0EDCA_tab3" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cpp','3','4');return false;">C++</a></div><div id="ID0EDCA_tab4" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','fs','4','4');return false;">F#</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EDCA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EDCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">[<span class="identifier">FlagsAttribute</span>]
<span class="keyword">public</span> <span class="keyword">enum</span> <span class="identifier">PreserveSMBPermissions</span></pre></div><div id="ID0EDCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve">&lt;<span class="identifier">FlagsAttribute</span>&gt;
<span class="keyword">Public</span> <span class="keyword">Enumeration</span> <span class="identifier">PreserveSMBPermissions</span></pre></div><div id="ID0EDCA_code_Div3" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve">[<span class="identifier">FlagsAttribute</span>]
<span class="keyword">public</span> <span class="keyword">enum class</span> <span class="identifier">PreserveSMBPermissions</span></pre></div><div id="ID0EDCA_code_Div4" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve">[&lt;<span class="identifier">FlagsAttribute</span>&gt;]
<span class="keyword">type</span> <span class="identifier">PreserveSMBPermissions</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EDCA");</script></div><div id="enumerationSection"><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Members</span></div><div id="ID2RBSection" class="collapsibleSection"><table id="enumMemberList" class="members"><tr><th class="iconColumn">
									 
								</th><th>Member name</th><th>Value</th><th>Description</th></tr><tr><td /><td target="F:Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.None"><span class="selflink">None</span></td><td>0</td><td>
            Indicate to not preserve any permission
            </td></tr><tr><td /><td target="F:Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.Owner"><span class="selflink">Owner</span></td><td>1</td><td>
            To preserve Owner permission.
            In some cases, it requires to enable SeRestorePrivilege to set owner info to local file. 
            See <span class="code">https://docs.microsoft.com/en-us/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfow</span> for details.
            To set owner permission to local file during downloading, the process needs to run with an account who has been assigned
            the privilege, for example run the process with administrator account.
            </td></tr><tr><td /><td target="F:Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.Group"><span class="selflink">Group</span></td><td>2</td><td>
            To preserve Group permission.
            </td></tr><tr><td /><td target="F:Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.DACL"><span class="selflink">DACL</span></td><td>4</td><td>
            To preserve DACL permission.
            </td></tr><tr><td /><td target="F:Microsoft.Azure.Storage.DataMovement.PreserveSMBPermissions.SACL"><span class="selflink">SACL</span></td><td>8</td><td>
            To preserve SACL permission.
            It requires to enable SeSecurityPrivilege to get or set SACL from or to local file.
            See <span class="code">https://docs.microsoft.com/en-us/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfow</span> for details.
            To get or set owner permission from or to local file, the process needs to run with an account who has been assigned
            the privilege, for example run the process with administrator account.
            </td></tr></table></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID3RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="470222ea-2ca0-cef6-b4c7-34a0b0e6e3a2.htm">Microsoft.Azure.Storage.DataMovement Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>